@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google fonts: display for headings, body for readability */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Nosifer&family=Creepster&display=swap");

:root {
  --accent:  #b31b1b;
}

/* Global cinematic base */
html, body, #root {
  height: 100%;
}

/* Use crowbar cursor globally */
body {
  cursor: url('/assets/crowbar.jpg'), auto;
}

/* Inputs, buttons, textareas and selects should use default cursor for usability */
input,
button,
textarea,
select,
[role="button"] {
  cursor: default;
}

/* Grain + vignette overlay helpers */
.grain-overlay::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  z-index: 5;
}

.vignette::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 45%, rgba(0,0,0,0.6) 75%, rgba(0,0,0,0.9) 100%);
  z-index: 6;
}

/* Accessible focus ring tuned to horror vibe */
:focus-visible {
  outline: 2px dashed var(--accent);
  outline-offset: 3px;
}

/* Start menu buttons */
.btn-ghost {
  @apply relative w-full text-left px-6 py-3 uppercase tracking-widest text-lg md:text-2xl lg:text-3xl font-semibold text-neutral-200 transition;
  text-shadow: 0 0 2px rgba(0,0,0,0.6);
  filter: url(#);
}
.btn-ghost:hover,
.btn-ghost:focus-visible {
  color:  white
  text-shadow 0 0 8px rgba(179,27,27,0.9);
}
.btn-ghost:active::after {
  /* dripping accent on click */
  content: "";
  position: absolute;
  left: 1.25rem;
  top: 60%;
  width: 4px;
  height: 12px;
  background: var(--accent);
  border-radius: 2px;
  animation: drip 0.6s ease-in;
}

/* Glitch effect using layered text shadows */
.glitch {
  position: relative;
}
.glitch:hover,
.glitch:focus-visible {
  animation: glitchShift 250ms steps(2, end);
}
.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  clip-path: inset(0 0 0 0);
}
.glitch::before {
  color:  #00ffc8;
  transform: translate(1px, 0);
  mix-blend-mode: screen;
}
.glitch::after {
  color:  #ff0048;
  transform: translate(-1px, 0);
  mix-blend-mode: screen;
}

/* Reduced motion: respect user preference */
@media (prefers-reduced-motion: reduce) {
  .grain-overlay::before,
  .vignette::after {
    animation: none !important;
  }
  .glitch,
  .glitch::before,
  .glitch::after {
    animation: none !important;
    transition: none !important;
  }
}
